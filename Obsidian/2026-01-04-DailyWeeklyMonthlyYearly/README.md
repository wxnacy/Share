# Obsidian 使用 Templater 和 QuickAdd 实现一键打开日记、周记、月记、年记

`Obsidian` 本身支持日记和模板，配合插件 `Templater` 可以更自由的定制属性内容。

## 安装 Templater

我们先安装插件，打开 `设置 -> 选项 -> 第三方插件` ，如果还没有启用过第三方插件，先关闭安全模式。浏览社区插件市场，安装量第三的就是 `Templater`，点击安装并开启。

在设置中保存模板文件存放位置，并且开启新建文件时触发模板。
## 日记

开始设置日记，首先创建存放日记的文件夹，配置日志模板 `Templates/Daily.md` 

```markdown
---
日期: <% tp.date.now("YYYY-MM-DD") %>
月: <% tp.date.now("YYYY-MM") %>
周: <% tp.date.now("GGGG-WW") %>
周数: <% tp.date.now("WW") %>
---

## 今天的任务

- [ ] 百度网盘签到
```


然后在 `设置 -> 核心插件 -> 日记` 中配置:
- 日记的存放位置
- 日记模板位置
- 启动时打开日记

然后在选择 `设置 -> 选项 -> 快捷键`，搜索日记，找到打开/创建今天的日记，配置快捷键`cmd+1`，这个会和现有的快捷键冲突，大家按照自己的习惯，设置想要的快捷键即可。这样不管我在任何界面，只要按下快捷键，就可以直接打开日记。

## 周记

周记就没有这方便了，我们先创建一个文件夹用来存放周记，然后创建周记的模板文件 `Templates/Weekly`。

```markdown
---
日期: <% tp.date.weekday("YYYY-MM-DD", 0) %>
年: <% tp.date.now("YYYY") %>
月: <% tp.date.now("YYYY-MM") %>
周: <% tp.date.now("GGGG-WW") %>
---

## 我的

### 本周任务

- [ ] 完成一个视频

```

接下来配合 `QuickAdd` 插件完成操作，在插件市场查找安装并启用。

在设置中添加模板选项，在命令设置中添加模板地址，设置名称格式化。这里名称变量使用 `{{DATE:GGGG-WW}}` 而不是 `{{DATE:YYYY-WW}}`，因为按照标准 `ISO` 周格式，如果一周内涉及到跨年，比如 `2025-12-29` 这一周，周四在哪一年，这周就算在哪一年，如果使用 `YYYY` 就会显示 `2025` 年，而使用 `GGGG` 则可以正确啊的显示 `2026` 年。

然后添加文件创建的目录。设置如果文件已经创建的动作，我们选择什么都不做，不然默认状态，会创建一个带序号的新文件。最后设置打开动作，使用默认的 `New tab` 中打开，也可以选择分割新面板中打开。

完成设置后记得把前面的闪电标志点亮，这样才会在 `Obsidian` 中注册成独立的命令。然后设置一下快捷键按钮即可。

## 后续

测试完成后，可以通过复制的方法，重复创建月记和年记的命令。最后还可以优化一下日记的打开方式，就是按照上面的方法，也创建一个日记的命令，这样日记就可以选择在 `New tab` 中打开，而不是默认在当前页面中打开。
